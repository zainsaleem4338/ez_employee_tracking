<% provide(:title, "All Teams") %>
<p id="notice"><%= notice %></p>

<% if @teams.length > 0%>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Team Leader</th>
      <th>Team Members</th>
      <th>Team Picture</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @teams.each do |team| %>
      <tr>
        <td><%= team.name %></td>
        <td><%= team.description %></td>
        <td><%= team.employee_lists(Team::EMPLOYEE_TYPE[:team_leader]).map(&:name).first %></td>
        <td><%= team.employee_lists(Team::EMPLOYEE_TYPE[:team_member]).count %></td>
        <td><%= image_tag team.team_pic.url(:thumb), class: "rounded-circle" %></td>
        <td>
          <%= link_to 'Show', department_team_path(team.department,team), class: "btn btn-secondary" %>
          <%= link_to 'Edit', edit_department_team_path(team.department,team), class: "btn btn-info" %>
          <%= link_to 'Destroy', department_team_path(team.department,team), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<% end %>
<br>

<%= link_to 'New Team', new_department_team_path, class: "btn btn-primary" %>
