<% content_for :bread_crumbs do %>
  <div class="row d-flex p-1">
      <p class="m-0 align-middle">Events </p>
      <div class="m-0 pl-2 float-right ">
        <% if can? :create, Event %>
          <h3 style='float:right'><a href="<%= new_event_path %>" title='Add Event'><i class="fas fa-plus-circle"></i></a></h3>
        <% end %>
      </div>
  </div>
<% end %>
<table id="event_table" class="table data table-hover dt-responsive" >
  <thead >
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Date</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @events.each do |event| %>
    <tr>
      <td><%= event.title %></td>
      <td><%= event.description %></td>
      <td><%= event.event_date.strftime("%Y-%m-%d") %></td>
      <td  class="d-table-cell align-middle vertical-align">
        <div class="row no-gutters justify-content-between">
          <div class="actions">
            <% if can? :show, event %>
            <%= link_to event_path(event) do %>
            <i title="Show Event" class="table-options action-show fas fa-eye"></i>
            <% end %>
            <% end %>
            <% if can? :create, event %>
            <%= link_to edit_event_path(event) do %>
            <i title="Edit Event" class="table-options action-edit fas fa-edit"></i>
            <% end %>
            <%= link_to event_path(event), method: :delete, data: { confirm: 'Are you sure?' } do %>  
            <i title="Delete Event" class="table-options action-delete fas fa-trash"></i>
            <% end %>
            <% end %>
          </div>
        </div>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
<div class="pagination-div">
  <%= will_paginate @events, renderer: WillPaginate::ActionView::BootstrapLinkRenderer, list_classes: %w(pagination justify-content-center) %>
</div>